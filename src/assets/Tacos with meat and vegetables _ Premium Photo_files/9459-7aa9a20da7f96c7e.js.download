!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="de3144a8-3633-4902-82fd-b52f08830b24",e._sentryDebugIdIdentifier="sentry-dbid-de3144a8-3633-4902-82fd-b52f08830b24")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9459],{52316:function(e,t,r){r.d(t,{E8:function(){return c},v7:function(){return n}});var n="text-surface-accent-0 $block $cursor-pointer $mt-15",c="text-surface-accent-0 $cursor-pointer"},57146:function(e,t,r){r.d(t,{X:function(){return a}});var n=r(97458),c=r(52316);let a=e=>{let{children:t,onClick:r}=e;return(0,n.jsx)("span",{className:c.v7,onClick:r,children:t})}},1515:function(e,t,r){r.d(t,{P:function(){return a}});var n=r(97458),c=r(52316);let a=e=>{let{children:t,onClick:r}=e;return(0,n.jsx)("a",{className:c.E8,onClick:r,children:t})}},61591:function(e,t,r){r.d(t,{w:function(){return o}});var n=r(97458),c=r(71163);let a=e=>{let{onClick:t}=e,{t:r}=(0,c.$G)("iconEditor");return(0,n.jsx)("button",{onClick:t,className:"$font-base text-surface-accent-0",children:r("undo")})},o=e=>{let{callback:t,folderName:r}=e;return(0,n.jsx)(c.cC,{i18nKey:"projects:toast.moveToFolderSuccess",values:{folderName:r},components:{undo:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(a,{onClick:t})]})}})}},3623:function(e,t,r){r.d(t,{M:function(){return a}});var n=r(18166),c=r(52983);let a=()=>(0,c.useCallback)(e=>{let{linkText:t,location:r}=e;(0,n.sendGTMEvent)({event:"ga4event",event_name:"edit_generate",location:r,link_text:t})},[])},51672:function(e,t,r){r.d(t,{Y:function(){return d}});var n=r(97458),c=r(71409),a=r(25288),o=r(52404),s=r(71163),l=r(52983),u=r(86686);let i=async e=>{let{locale:t,filesReference:r,foldersReference:n}=e;return(0,u.c)("/api/user/bulk/purge","PUT",{locale:t,filesReference:r,foldersReference:n})};var f=r(31375);let d=()=>{let{createQueryKeyTrash:e}=(0,f.K)(),t=(0,a.NL)(),{locale:r}=(0,c.Vx)(),u=(0,l.useRef)([]),d=(0,l.useRef)([]),{t:g}=(0,s.$G)("projects"),{openToast:v}=(0,o.x_)(),p=(0,l.useCallback)(r=>{let{filesReference:n,foldersReference:c}=r;n.length>0&&t.setQueryData(e("files"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{files:[]};return{...e,files:e.files.filter(e=>!n.includes(e.reference))}}),c.length>0&&t.setQueryData(e("folders"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{folders:[]};return{...e,folders:e.folders.filter(e=>!c.includes(e.reference))}})},[t,e]);return(0,l.useCallback)(async e=>{let{filesReference:t,foldersReference:c}=e;try{let e;if(d.current=[],u.current=[],!(await i({filesReference:t,foldersReference:c,locale:r})).success)throw Error("Delete failed");p({filesReference:t,foldersReference:c});let a=c.length>0,o=t.length>0,l=c.length,f=t.length,h=0;a&&o?e="projects:toast.purgeBulk":a?(e="projects:toast.purgeFolder",h=l):o&&(e="projects:toast.purgeFile",h=f),v({type:"success",title:g("toast.deleteSuccessTitle"),message:(0,n.jsx)(s.cC,{i18nKey:e,count:h})})}catch(e){v({type:"danger",message:g("error:unknown")})}},[r,v,g,p])}},74532:function(e,t,r){r.d(t,{IN:function(){return o},Mp:function(){return n},Oc:function(){return c},Qo:function(){return a},_H:function(){return s},fg:function(){return l}});let n="https://www.freepik.com/designer/edit",c="/user/projects",a=1,o=15,s={foldersPerPage:7,filesPerPage:8},l={currentPage:1,lastPage:1,perPage:0,total:0}},47854:function(e,t,r){r.d(t,{D:function(){return n}});let n=(0,r(52983).createContext)({})},30975:function(e,t,r){r.d(t,{G:function(){return a}});var n=r(52983),c=r(47854);let a=()=>{let e=(0,n.useContext)(c.D);if(!e)throw Error("useFoldersContext must be used within a ProjectsProvider");return e}},50989:function(e,t,r){r.d(t,{v:function(){return n}});let n=(0,r(52983).createContext)({})},78390:function(e,t,r){r.d(t,{I:function(){return a}});var n=r(52983),c=r(50989);let a=()=>{let e=(0,n.useContext)(c.v);if(!e)throw Error("useProjectsContext must be used within a ProjectsProvider");return e}},79400:function(e,t,r){r.d(t,{B:function(){return c}});var n=r(86686);let c=async e=>{let{locale:t,filesReference:r,folderToMoveReference:c,foldersReference:a}=e;return(0,n.c)("/api/user/bulk/move","PUT",{folderToMoveReference:c,locale:t,filesReference:r,foldersReference:a})}},42451:function(e,t,r){r.d(t,{r:function(){return c}});var n=r(86686);let c=async e=>{let{locale:t,name:r,parentReference:c}=e;return(0,n.c)("/api/user/folders","POST",{locale:t,name:r,parentReference:c})}},84461:function(e,t,r){r.d(t,{$:function(){return c}});var n=r(86686);let c=async e=>{let{name:t,reference:r,parentReference:c,locale:a}=e;return(0,n.c)("/api/user/folders","PUT",{locale:a,name:t,parentReference:c,reference:r})}},31375:function(e,t,r){r.d(t,{K:function(){return a}});var n=r(83648),c=r.n(n);let a=()=>{let e=c().query.page?Number(c().query.page):1;return{createQueryKey:(t,r)=>[t,!1,r,e],createQueryKeyTrash:t=>[t,!0,"",e]}}},78251:function(e,t,r){r.d(t,{j:function(){return d}});var n=r(71409),c=r(52983),a=r(86686),o=r(23160);let s=async e=>{let{page:t,perPage:r,locale:n,reference:c}=e;return(0,a.c)("/api/user/folders/".concat(c,"/folders").concat((0,o.T)({page:t,per_page:r,locale:n})),"GET",void 0,{cache:"no-store"})},l=async e=>{let{page:t,perPage:r,locale:n}=e;return(0,a.c)("/api/user/folders".concat((0,o.T)({page:t,per_page:r,locale:n})),"GET",void 0,{cache:"no-store"})},u=async e=>{let{reference:t,page:r,perPage:n,locale:c}=e;return(0,a.c)("/api/user/folders/trash".concat((0,o.T)({page:r,per_page:n,reference:t,locale:c})),"GET",void 0,{cache:"no-store"})},i=async e=>{let{page:t,perPage:r,locale:n}=e;return(0,a.c)("/api/user/folders/trash".concat((0,o.T)({page:t,per_page:r,locale:n})),"GET",void 0,{cache:"no-store"})};var f=r(74532);let d=()=>{let e=(0,n.Vx)().locale;return(0,c.useCallback)(async t=>{let{isTrash:r,reference:n,page:c,perPage:a}=t,o=null!=a?a:f._H.foldersPerPage;return r&&n?await u({page:c,perPage:o,locale:e,reference:n}):r?await i({page:c,perPage:o,locale:e}):n?await s({page:c,perPage:o,locale:e,reference:n}):await l({page:c,perPage:o,locale:e})},[e])}},18089:function(e,t,r){r.d(t,{c:function(){return i}});var n=r(56991),c=r(52404),a=r(71163),o=r(52983),s=r(30975),l=r(86686);let u=async()=>(0,l.c)("/api/user/workspaces","GET"),i=()=>{let{openToast:e}=(0,c.x_)(),{t}=(0,a.$G)(["error"]),[r,l]=(0,o.useState)([]),{folder:i}=(0,s.G)(),[f,d]=(0,o.useState)(!1),{storedValue:g,setValue:v}=(0,n._)("UNITY_WORKSPACE",""),p=(null==r?void 0:r.length)>1;return(0,o.useEffect)(()=>{(async()=>{let r=await u();r.success&&"string"!=typeof r.data&&r.data?l(r.data.folders):e({type:"danger",message:t("error:unknown")})})()},[e,t]),(0,o.useEffect)(()=>{void 0!==i&&d(!0)},[i]),(0,o.useEffect)(()=>{var e,t;if(f){if(1===r.length){v(null!==(e=r[0].reference)&&void 0!==e?e:"");return}(null==i?void 0:i.reference)||v(""),r.some(e=>e.reference===(null==i?void 0:i.reference))&&g!==(null==i?void 0:i.reference)&&v(null!==(t=null==i?void 0:i.reference)&&void 0!==t?t:"")}},[r,i,null==i?void 0:i.reference,g,v,f]),{workspaceReference:g,allWorkspaces:r,setWorkspace:v,hasMoreWorkspaces:p}}},1317:function(e,t,r){r.d(t,{b:function(){return n}});let n=(0,r(52983).createContext)({})},65841:function(e,t,r){r.d(t,{q:function(){return a}});var n=r(52983),c=r(1317);let a=()=>(0,n.useContext)(c.b)},9826:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(95001);let c="projectsUserActions",a=e=>{let t=localStorage.getItem(c),r=t?JSON.parse(t):[],n=parseInt(localStorage.getItem("lastSurveyTimestamp")||"",10);if(r.length>=2){let t=new Date().getTime();(!n||t-Number(n)>2592e6)&&(setTimeout(()=>{e()},800),localStorage.setItem("lastSurveyTimestamp",t.toString()),localStorage.removeItem(c))}};var o=()=>{let e=(0,n.d)();return t=>{let r=localStorage.getItem(c);if(!r){localStorage.setItem(c,JSON.stringify([t]));return}let n=JSON.parse(r)||[];n.includes(t)||(n.push(t),localStorage.setItem(c,JSON.stringify(n)),a(e))}}},95001:function(e,t,r){r.d(t,{d:function(){return a}});var n=r(65508),c=r(52983);let a=()=>(0,c.useCallback)(()=>{(0,n.loadSpace)("bb6a004a-8f03-4d2a-88fb-a63499d4591a").then(e=>{e.init(),e.logEvent("open_unity_feedback")})},[])},77065:function(e,t,r){r.d(t,{W:function(){return s}});var n=r(97458),c=r(98015),a=r(31388),o=r(71163);let s=e=>{let{onPurge:t,showModal:r,onShowModal:s,onCloseMultiSelect:l}=e,{t:u}=(0,o.$G)(["projects"]),i=()=>{s(!1),l&&l()};return(0,n.jsx)(c.u,{size:"xs",open:r,onOpenChange:i,children:(0,n.jsxs)("div",{className:"$flex $flex-col text-surface-foreground-0",children:[(0,n.jsxs)("div",{className:"$flex $flex-col $justify-center $items-center $gap-20",children:[(0,n.jsx)("h2",{className:"$sprinkles-text-xl $font-semibold",children:u("purgeModal.title")}),(0,n.jsx)("p",{children:u("purgeModal.body")})]}),(0,n.jsxs)("div",{className:"$flex $flex-row $gap-20 $justify-center $mt-20",children:[(0,n.jsx)(a.g,{size:"md",onClick:i,variant:"outline",className:"$border $border-grayHeather",children:u("purgeModal.buttons.cancel")}),(0,n.jsx)(a.g,{size:"md",onClick:()=>{s(!1),t()},variant:"primary",children:u("purgeModal.buttons.confirm")})]})]})})}},13061:function(e,t,r){var n=r(97458);t.Z=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,n.jsx)("path",{d:"M438 403c-13.808 0-25 11.193-25 25v134c0 19.299-15.701 35-35 35H36c-19.299 0-35-15.701-35-35V428c0-13.807-11.193-25-25-25s-25 11.193-25 25v134c0 46.869 38.131 85 85 85h342c46.869 0 85-38.131 85-85V428c0-13.807-11.192-25-25-25"}),(0,n.jsx)("path",{d:"M189.322 530.678a25.004 25.004 0 0 0 35.356 0l84.853-84.853c9.763-9.763 9.763-25.592 0-35.355s-25.592-9.763-35.355 0L232 452.645V172c0-13.807-11.193-25-25-25s-25 11.193-25 25v280.645l-42.175-42.175c-9.764-9.763-25.592-9.763-35.355 0s-9.763 25.592 0 35.355z"})]})},50977:function(e,t,r){var n=r(97458);t.Z=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,n.jsx)("path",{d:"M428 231.5H317v-65c0-13.807-11.193-25-25-25H122c-13.807 0-25 11.193-25 25v65H-14c-13.807 0-25 11.193-25 25s11.193 25 25 25h25v306c0 35.841 29.159 65 65 65h262c35.841 0 65-29.159 65-65v-306h25c13.807 0 25-11.193 25-25s-11.193-25-25-25m-281-40h120v40H147zm206 396c0 8.271-6.729 15-15 15H76c-8.271 0-15-6.729-15-15v-306h292z"}),(0,n.jsx)("path",{d:"M150 341.5c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25m114 0c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25"})]})},78510:function(e,t,r){r.d(t,{H:function(){return a}});var n=r(7616),c=r(21595);let a=()=>(0,n.Dv)(c.Qq)},56991:function(e,t,r){r.d(t,{_:function(){return c}});var n=r(52983);let c=(e,t,r)=>{let[c,a]=(0,n.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return null==r||r("Something went wrong while fetching data from Local Storage"),t}});return{storedValue:c,setValue:t=>{try{window.localStorage.setItem(e,JSON.stringify(t)),a(t)}catch(e){null==r||r("Something went wrong while setting data to Local Storage")}}}}}}]);